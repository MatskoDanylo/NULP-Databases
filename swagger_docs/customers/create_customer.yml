tags:
  - Customers
summary: Create a new customer
description: Create a new customer in the system with validation
parameters:
  - name: customer
    in: body
    required: true
    description: Customer data to create
    schema:
      type: object
      required:
        - first_name
        - last_name
        - email
        - phone_number
        - date_of_birth
      properties:
        first_name:
          type: string
          minLength: 1
          maxLength: 50
          example: "John"
          description: Customer's first name (required, 1-50 characters)
        last_name:
          type: string
          minLength: 1
          maxLength: 50
          example: "Doe"
          description: Customer's last name (required, 1-50 characters)
        email:
          type: string
          format: email
          maxLength: 100
          example: "john.doe@email.com"
          description: Customer's email address (required, must be valid email, unique)
        phone_number:
          type: string
          pattern: "^\\+?[1-9]\\d{1,14}$"
          example: "+1234567890"
          description: Customer's phone number (required, international format)
        date_of_birth:
          type: string
          format: date
          example: "1990-01-15"
          description: Customer's date of birth (required, YYYY-MM-DD format)
responses:
  201:
    description: Customer created successfully
    schema:
      type: object
      properties:
        success:
          type: boolean
          example: true
        message:
          type: string
          example: "Customer created successfully"
        customer_id:
          type: integer
          example: 123
          description: ID of the newly created customer
        customer:
          type: object
          properties:
            customer_id:
              type: integer
              example: 123
            first_name:
              type: string
              example: "John"
            last_name:
              type: string
              example: "Doe"
            email:
              type: string
              example: "john.doe@email.com"
            phone_number:
              type: string
              example: "+1234567890"
            date_of_birth:
              type: string
              format: date
              example: "1990-01-15"
            created_at:
              type: string
              format: datetime
              example: "2023-01-01T10:00:00"
            updated_at:
              type: string
              format: datetime
              example: "2023-01-01T10:00:00"
  400:
    description: Bad request - validation error
    schema:
      type: object
      properties:
        success:
          type: boolean
          example: false
        error:
          type: string
          example: "Email already exists in the system"
  422:
    description: Unprocessable Entity - invalid data
    schema:
      type: object
      properties:
        success:
          type: boolean
          example: false
        error:
          type: string
          example: "Invalid email format"
  500:
    description: Internal server error
    schema:
      type: object
      properties:
        success:
          type: boolean
          example: false
        error:
          type: string
          example: "Database error occurred"