tags:
  - Customers
summary: Get customer deletion information
description: Get information about what will be affected if a customer is deleted, including related orders and tickets
parameters:
  - name: customer_id
    in: path
    type: integer
    required: true
    description: The unique identifier of the customer
responses:
  200:
    description: Customer deletion information retrieved successfully
    schema:
      type: object
      properties:
        success:
          type: boolean
          example: true
        customer:
          type: object
          properties:
            customer_id:
              type: integer
              example: 1
            first_name:
              type: string
              example: "John"
            last_name:
              type: string
              example: "Doe"
            email:
              type: string
              example: "john.doe@email.com"
        deletion_info:
          type: object
          properties:
            can_delete:
              type: boolean
              example: true
              description: Whether the customer can be safely deleted
            related_orders_count:
              type: integer
              example: 3
              description: Number of orders associated with this customer
            related_tickets_count:
              type: integer
              example: 5
              description: Total number of tickets in customer's orders
            warnings:
              type: array
              items:
                type: string
              example: ["Customer has 3 orders", "Deleting will also remove 5 tickets"]
              description: List of warnings about the deletion impact
  404:
    description: Customer not found
    schema:
      type: object
      properties:
        success:
          type: boolean
          example: false
        error:
          type: string
          example: "Customer with ID 1 not found"
  400:
    description: Invalid customer ID
    schema:
      type: object
      properties:
        success:
          type: boolean
          example: false
        error:
          type: string
          example: "Invalid customer ID format"
  500:
    description: Internal server error
    schema:
      type: object
      properties:
        success:
          type: boolean
          example: false
        error:
          type: string
          example: "Database error occurred"